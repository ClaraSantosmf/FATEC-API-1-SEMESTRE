<!DOCTYPE html>
<html>
<head>
    <title>Editar grupo</title>
</head>
<body onload="carregar_campos()">
    
    <div name="formulario_editar_grupo" id="1">
        <label>
            Editando a Turma 1
        </label>
        <br>
        <select name="selecao_turma"></select>
        <button type="submit" onclick="editar_grupo()">Editar</button>    
    </div>
    
</body>
</html>
<script>
    async function carregar_campos(){
        try {
            //recupera o id da turma a partir dos parâmetros da requisição.
            const parametrosURL = new URLSearchParams(window.location.search)
            const id = parametrosURL.get('id')
            document.getElementsByName("formulario_editar_grupo")[0]["id"] = id
            //todo >> obter as informações do grupo
            //const resposta = await fetch (`http://127.0.0.1:8080/api/v1/grupos/${id}/editar`,{method: "PUT", body:JSON.stringify(turma)})
            selecao_turma = document.getElementsByName("selecao_turma")[0]
            //fazer para cada turma do banco de dados a seguinte operação:
            selecao_turma.appendChild(new Option("turma x"))
        } catch (erro) {
            console.error("Erro ao buscar dados da API -> ", erro)
        }
    }

    async function editar_grupo() {
        try {
            const id = document.getElementsByName("formulario_editar_grupo")[0]["id"]
            console.log("editando o grupo de id",id)
            turma = {"turma":"1"}
            const resposta = await fetch (`http://127.0.0.1:8080/api/v1/grupos/${id}/editar`,{method: "PUT", body:JSON.stringify(turma)})
            console.log(resposta)
        } catch (erro) {
            console.error("Erro ao buscar dados da API -> ", erro)
        }
    }
</script>