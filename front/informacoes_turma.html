<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gerenciamento de Alunos</title>
     <link rel="stylesheet" href="../front/style/informacoes_turma.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/water.css@2/out/light.min.css"
    />
    <link rel="stylesheet" href="style/custom.css" />
  </head>
  <body>
    <header class="header">
      <a href="index.html">
        <img src="./imagens/Logo.png" alt="logo" />
      </a>
    </header>
  <body>
    <h1 class="titulo">Informações turma:</h1>
    <div class="container-info">
        <div class="info-turma">
          <p>Nome turma: tal</p>
          <p>Nome professor: tal</p>
        </div>
        <div class="container-ciclos">
          <p class="titulo-ciclos"><strong>Pesos Ciclos:</strong></p>
          <div class="ciclo-peso"></div>
        </div>
            
        </div>
    </div>
    <div class="aluno-container">
      <div class="table-container">
        <p>Ciclo aberto para nota: x</p>
        <div class="header-container">
          <div class="header-title titulo_nome_alunos">Nome</div>
          <div class="header-title titulo_grupo">Grupo</div>
          <div class="header-title titulo_notas">Notas</div>
          <div class="header-title titulo_media">Media</div>
        </div>
          <div class="corpo_tabela">
            <!-- Os Alunos serão adicionadas automaticamente aqui -->
          </div>
      </div>
    </div>
     <!-- Moleke -->
     <div class="muleke">
        <a href="index.html">
          <img src="./imagens/mascote2.png" alt="mascote" />
        </a>
      </div>
      <script>
        const global = { quantidade_sprint: 4, dias_sprint: 12 };

const turmas = {
  1: {
    nome: "ADS",
    professor: "Nadalete",
    data_de_inicio: "21/02/2023",
    p1: 2,
    p2: 2,
    p3: 2,
    p4: 3,
  },
};

const cicloPeso = document.querySelector(".ciclo-peso");
for (let i = 1; i <= global.quantidade_sprint; i++) {
  const label = document.createElement("label");
  label.classList.add("ciclo");
  label.htmlFor = `p${i}`;
  label.innerHTML = `<strong>C${i}:</strong>`;

  const input = document.createElement("input");
  input.classList.add("peso");
  input.type = "text";
  input.name = `p${i}`;
  input.id = `p${i}`;

  // Preencha o valor do input com base no objeto turmas
  const turma = turmas[1]; // Supondo que você está trabalhando com a turma 1
  if (turma[`p${i}`] !== undefined) {
    input.value = turma[`p${i}`];
  }

  cicloPeso.appendChild(label);
  cicloPeso.appendChild(input);
}

const alunos ={
  1: {
    nome: "Clara Santos"
  },
  2: {
    nome: "Marcelo Tambalo"
  },
  3: {
    nome: "TA RA RA RA"
  }
}
function GetAlunos() {
  const alunosData = [];

  for (const alunoId in alunos) {
    if (alunos.hasOwnProperty(alunoId)) {
      const aluno = alunos[alunoId];
      alunosData.push({ id: alunoId, nome: aluno.nome });
    }
  }
  console.log(alunosData)
  return alunosData;
}

function exibirAlunos(alunosData) {
  const container = document.querySelector(".corpo_tabela");

  for (const alunoId in alunosData) {
    if (alunosData.hasOwnProperty(alunoId)) {
      const aluno = alunosData[alunoId];
      const RAaluno = aluno.id;

      const alunoSquare = document.createElement("div");
      alunoSquare.className = "aluno-square";
      alunoSquare.id = `aluno-${aluno.id}`;

      const nomeAluno = document.createElement("p");
      nomeAluno.className = "aluno";
      nomeAluno.textContent = aluno.nome.charAt(0).toUpperCase() + aluno.nome.slice(1);

      const grupoNome = buscaGrupo(aluno.id);

      const nomeGrupo = document.createElement("p");
      nomeGrupo.className = "grupo";
      nomeGrupo.textContent = `Grupo: ${grupoNome}`; // Inclui o nome do grupo

      alunoSquare.appendChild(nomeAluno);
      alunoSquare.appendChild(nomeGrupo);
      container.appendChild(alunoSquare);
    }
  }
}

function buscaGrupo(alunoId) {
  const grupoAluno = {
    1: {
      // id aluno
      grupo: 1, // id grupo
    },
    2: {
      grupo: 2,
    },
    3: {
      grupo: 2,
    },
  };

  const grupos = {
    1: {
      // id grupo
      turma: 1, //id turma
      nome: "team bee",
    },
    2: {
      turma: 2,
      nome: "team tatata",
    },
    3: {
      turma: 1,
      nome: "team barbuleta",
    },
  };
  const turmas = {
    1: {
      // id turma
      nome: "ADS",
      professor: "Nadalete",
      data_de_inicio: "21/02/2023",
    },
    2: {
      nome: "Banco de dados",
      professor: "Professora teste",
      data_de_inicio: "2023-10-11",
    },
    3: {
      nome: "Inteligencia Artifical",
      professor: "Grugru",
      data_de_inicio: "16/10/2023",
    },
  };

  if (alunoId in grupoAluno) {
    const grupoId = grupoAluno[alunoId].grupo;
    if (grupoId in grupos) {
      const grupoNome = grupos[grupoId].nome;
      const turmaId = grupos[grupoId].turma;
      const turmaNome = turmas[turmaId].nome;
      return [grupoNome];
    }
  }
}

exibirAlunos(GetAlunos());
      </script>
  </body>
</html>